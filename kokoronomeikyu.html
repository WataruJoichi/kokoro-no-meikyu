<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ã“ã“ã‚ã®è¿·å®® - ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—</title>
  <style>
    body {
      font-family: sans-serif;
      background: url('images/meikyuhaikei.png') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
  #game {
      flex: 1;
      padding: 1em;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      backdrop-filter: brightness(0.95);
    }
    #question {
      color: #fff;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
    }
    #choices {
      display: flex;
      flex-direction: row;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1.5em;
      margin-top: 1em;
    }
    .choice {
      position: relative;
      padding: 2em;
      background: rgba(255, 255, 255, 0.85);
      border: 2px solid #444;
      border-radius: 16px;
      cursor: pointer;
      width: 280px;
      text-align: left;
      box-sizing: border-box;
      font-size: 1.1em;
      line-height: 1.5em;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.2);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      overflow: hidden;
    }
    .choice:hover {
      transform: scale(1.05);
      box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.3);
    }
    .choice::after {
      content: "";
      position: absolute;
      top: 0;
      left: -75%;
      width: 50%;
      height: 100%;
      background: linear-gradient(120deg, rgba(255,255,255,0.3), rgba(255,255,255,0));
      transform: skewX(-20deg);
    }
    .choice:hover::after {
      animation: shine 0.75s ease-out;
    }
    .choice.clicked {
      animation: pop 0.4s ease forwards;
    }
    @keyframes shine {
      0% { left: -75%; }
      100% { left: 125%; }
    }
    @keyframes pop {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); box-shadow: 0 0 15px rgba(255, 255, 100, 0.6); }
      100% { transform: scale(1); }
    }
    .choice strong {
      display: block;
      font-size: 1.6em;
      margin-bottom: 0.5em;
    }
    #party {
      background: rgba(222, 226, 230, 0.9);
      padding: 0.5em;
      font-size: 0.9em;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      border-top: 2px solid #aaa;
    }
    .member {
      background: #fff;
      margin: 0.3em;
      padding: 0.3em 0.8em;
      border-radius: 12px;
      border: 1px solid #888;
      text-align: center;
      cursor: pointer;
    }
    .member img {
      width: 80px;
      height: 80px;
      object-fit: contain;
      display: block;
      margin: 0 auto 0.3em;
    }
    #result {
      display: none;
      padding: 1em;
      background: rgba(255, 255, 255, 0.95);
    }
    .tooltip {
      position: relative;
      display: inline-block;
    }
    .tooltip .tooltiptext {
      visibility: hidden;
      width: max-content;
      max-width: 200px;
      background-color: rgba(0, 0, 0, 0.8);
      color: #fff;
      text-align: left;
      border-radius: 8px;
      padding: 0.5em 0.8em;
      position: absolute;
      z-index: 1;
      bottom: 110%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s ease;
      font-size: 0.85em;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.3);
      pointer-events: none;
      white-space: pre-wrap;
    }
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

  </style>
</head>
<body>
  <div id="game">
    <div id="question"></div>
    <div id="choices"></div>
  </div>
  <div id="party"></div>
  <div id="result"></div>
  <div id="whitenout" style="position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: white;opacity: 0;pointer-events: none;transition: opacity 1s ease;z-index: 9999;"></div>

  <div id="start-screen" style="position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: url('images/meikyuhaikei.png') no-repeat center center fixed;background-size: cover;display: flex;flex-direction: column;justify-content: center;align-items: center;z-index: 9999;">
    <h1 style="color: white; font-size: 3em; text-shadow: 2px 2px 8px rgba(0,0,0,0.8); margin-bottom: 0.2em;">ã“ã“ã‚ã®è¿·å®®</h1>
    <p style="color: white; font-size: 1.2em; margin-bottom: 2em; text-shadow: 1px 1px 5px rgba(0,0,0,0.7);">â€• ã‚ãªãŸã®ä¾¡å€¤è¦³ã¨å‡ºä¼šã†æ—… â€•</p>
    <button onclick="startGame()" style="padding: 0.8em 2em;font-size: 1.2em;border-radius: 12px;border: 2px solid #fff;background: rgba(255,255,255,0.85);cursor: pointer;box-shadow: 2px 2px 10px rgba(0,0,0,0.4);transition: transform 0.2s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'"><span>ã¯ã˜ã‚ã‚‹</span></button>
  </div>

  <script>
    const descriptions = {
  "å—å®¹": { "text": "ã‚ã‚Šã®ã¾ã¾ã®è‡ªåˆ†ã‚’å—ã‘å…¥ã‚Œã¦ã‚‚ã‚‰ã†", "image": "éŒ¬é‡‘è¡“å¸«é’.png" },
  "èª¿å’Œ": { "text": "å‘¨å›²ã®ç’°å¢ƒã¨èª¿å’Œã—ãªãŒã‚‰ç”Ÿãã‚‹", "image": "é­”æ³•ä½¿ã„é’.png" },
  "æ­£ç¢º": { "text": "è‡ªåˆ†ã®æ„è¦‹ã‚„ä¿¡å¿µã‚’æ­£ã—ãä¼ãˆã‚‹", "image": "å•†äººé»„.png" },
  "èˆˆå¥®": { "text": "ã‚¹ãƒªãƒ«ã¨åˆºæ¿€ã«æº€ã¡ãŸäººç”Ÿã‚’é€ã‚‹", "image": "é­”æ³•å‰£å£«ç·‘.png" },
  "é”æˆ": { "text": "ä½•ã‹é‡è¦ãªã“ã¨ã‚’é”æˆã™ã‚‹", "image": "ç›—è³Šç·‘.png" },
  "è²ç¯€": { "text": "ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã«ã†ãã‚’ã¤ã‹ãšèª å®Ÿã«ç”Ÿãã‚‹", "image": "åƒ§ä¾¶ç·‘.png" },
  "å†’é™º": { "text": "æ–°ã—ãã¦ã‚ãã‚ãã™ã‚‹ä½“é¨“ã‚’ã™ã‚‹", "image": "æˆ¦å£«èµ¤.png" },
  "åå£°": { "text": "æœ‰åã«ãªã£ã¦å­˜åœ¨ã‚’èªã‚ã‚‰ã‚Œã‚‹", "image": "å¬å–šå£«ç·‘.png" },
  "é­…åŠ›": { "text": "èº«ä½“çš„ãªé­…åŠ›ã‚’ä¿ã¤", "image": "éŒ¬é‡‘è¡“å¸«èµ¤.png" },
  "å®¶æ—": { "text": "å¹¸ç¦ã§æ„›ã«æº€ã¡ãŸå®¶åº­ã‚’ä½œã‚‹", "image": "å¬å–šå£«é’.png" },
  "æ¨©å¨": { "text": "ä»–è€…ã«å¯¾ã—ã¦è²¬ä»»ã‚’æŒã¤ç«‹å ´ã«å°±ã", "image": "é­”æ³•ä½¿ã„èµ¤.png" },
  "ä½“åŠ›": { "text": "ä¸ˆå¤«ã§å¼·ã„èº«ä½“ã‚’ä¿ã¤", "image": "åŸéŠè©©äººèµ¤.png" },
  "è‡ªæ²»": { "text": "äººç”Ÿã‚’ã˜ã¶ã‚“ã§è‡ªç”±ã«æ±ºã‚ã‚‹", "image": "è¸Šã‚Šå­é»„.png" },
  "æŸ”è»Ÿ": { "text": "æ–°ãŸãªç’°å¢ƒã«ã‚‚ç°¡å˜ã«é¦´æŸ“ã‚€", "image": "ç›—è³Šé»„.png" },
  "ç¾çš„": { "text": "èº«ã®å›ã‚Šã®ç¾ã—ã„ã‚‚ã®ã‚’å‘³ã‚ã†", "image": "ãƒ¢ãƒ³ã‚¯èµ¤.png" },
  "è¨±ã—": { "text": "ä»–äººã‚’è¨±ã—ã¦ãŠã ã‚„ã‹ã«ç”Ÿãã‚‹", "image": "ç‹©äººèµ¤.png" },
  "åº‡è­·": { "text": "ä»–è€…ã®é¢å€’ã‚’è¦‹ã‚‹", "image": "é­”æ³•å‰£å£«é’.png" },
  "å‹æƒ…": { "text": "è¦ªå¯†ã§åŠ©ã‘åˆãˆã‚‹å‹äººã‚’ä½œã‚‹", "image": "è³¢è€…ç´«.png" },
  "æŒ‘æˆ¦": { "text": "é›£ã—ã„ä»•äº‹ã‚„å•é¡Œã«å–ã‚Šçµ„ã‚€", "image": "ç›—è³Šé’.png" },
  "æ„‰æ¥½": { "text": "éŠã‚“ã§æ¥½ã—ã‚€ã“ã¨", "image": "è¸Šã‚Šå­ç·‘.png" },
  "å¤‰åŒ–": { "text": "å¤‰åŒ–ã«å¯Œã‚“ã ãƒãƒ©ã‚¨ãƒ†ã‚£è±Šã‹ãªäººç”Ÿã‚’é€ã‚‹", "image": "è³¢è€…é’.png" },
  "å¯›å¤§": { "text": "è‡ªåˆ†ã®ã‚‚ã®ã‚’ä»–äººã«ä¸ãˆã‚‹", "image": "æµ·è³Šé’.png" },
  "å¿«é©": { "text": "è‹¦ã—ã¿ãƒ»æ‚©ã¿ãŒãªã„ç”Ÿæ´»ã‚’é€ã‚‹", "image": "è³¢è€…èµ¤.png" },
  "çœŸå®Ÿ": { "text": "è‡ªåˆ†ãŒæ­£ã—ã„ã¨æ€ã†ã¨ãŠã‚Šã«è¡Œå‹•ã™ã‚‹", "image": "æµ·è³Šé»„.png" },
  "èª“ç´„": { "text": "çµ¶å¯¾ã«ç ´ã‚Œãªã„ç´„æŸã‚„èª“ã„ã‚’çµã¶", "image": "è³¢è€…é»„.png" },
  "ä¿¡æ•™": { "text": "è‡ªåˆ†ã‚’è¶…ãˆãŸå­˜åœ¨ã®æ„ç¾©ã‚’è€ƒãˆã‚‹", "image": "æµ·è³Šç·‘.png" },
  "æ…ˆæ„›": { "text": "ä»–è€…ã‚’å¿ƒé…ã—ã¦åŠ©ã‘ã‚‹", "image": "æˆ¦å£«ç´«.png" },
  "æˆé•·": { "text": "å¤‰åŒ–ã¨æˆé•·ã‚’ç¶šã‘ã‚‹", "image": "éŒ¬é‡‘è¡“å¸«ç·‘.png" },
  "è²¢çŒ®": { "text": "ä¸–ç•Œã®å½¹ã«ç«‹ã¤ã“ã¨ã‚’ã™ã‚‹", "image": "é›å†¶å±‹ç´«.png" },
  "å¥åº·": { "text": "å¥ã‚„ã‹ã§ä½“èª¿ã‚ˆãç”Ÿãã‚‹", "image": "å¬å–šå£«èµ¤.png" },
  "å”èª¿": { "text": "ä»–è€…ã¨å”åŠ›ã—ã¦ä½•ã‹ã‚’ã™ã‚‹", "image": "é­”æ³•ä½¿ã„ç´«.png" },
  "æœ‰ç›Š": { "text": "ä»–äººã®å½¹ã«ç«‹ã¤ã“ã¨", "image": "åŸéŠè©©äººç´«.png" },
  "ç¤¼å„€": { "text": "ä»–è€…ã«å¯¾ã—ã¦æ•¬æ„ã‚’æ‰•ã„æ­£ç›´ã«æ¥ã™ã‚‹", "image": "æµ·è³Šèµ¤.png" },
  "æ­£ç›´": { "text": "ã†ãã‚’ã¤ã‹ãšæ­£ç›´ã«ç”Ÿãã‚‹", "image": "åƒ§ä¾¶èµ¤.png" },
  "å‰µé€ ": { "text": "æ–°ã—ãæ–¬æ–°ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ç”Ÿã‚€", "image": "åƒ§ä¾¶ç´«.png" },
  "å¸Œæœ›": { "text": "ãƒã‚¸ãƒ†ã‚£ãƒ–ã§æ¥½è¦³çš„ã«ç”Ÿãã‚‹", "image": "ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³èµ¤.png" },
  "ä¿¡é ¼": { "text": "ä¿¡ç”¨ãŒã‚ã£ã¦é ¼ã‚Œã‚‹äººé–“ã«ãªã‚‹", "image": "ç‹©äººé»„.png" },
  "è¬™éœ": { "text": "åœ°å‘³ã§æ§ãˆã‚ã«æš®ã‚‰ã™", "image": "é›å†¶å±‹é»„.png" },
  "ç¾©å‹™": { "text": "è‡ªåˆ†ã®è²¬ä»»ã«ä¸€ç”Ÿæ‡¸å‘½å–ã‚Šçµ„ã‚€", "image": "å•†äººç·‘.png" },
  "ç¬‘ã„": { "text": "äººç”Ÿã‚„ä¸–é–“ã®ãƒ¦ãƒ¼ãƒ¢ãƒ©ã‚¹ãªé¢ã‚’è¦‹ã‚‹", "image": "é›å†¶å±‹èµ¤.png" },
  "å‹¤å‹‰": { "text": "ä»•äº‹ã®é¢ã§å¹³ç©ç„¡äº‹ãªæ¯æ—¥", "image": "ãƒ¢ãƒ³ã‚¯ç·‘.png" },
  "ç‹¬ç«‹": { "text": "ä»–è€…ã«ä¾å­˜ã—ãªã„ã§ç”Ÿãã‚‹", "image": "åƒ§ä¾¶é»„.png" },
  "å¹³å®‰": { "text": "ç²¾ç¥çš„ã«ç©ã‚„ã‹ã«", "image": "å•†äººç´«.png" },
  "åˆç†": { "text": "ç†æ€§çš„ã«è«–ç†ã«å¾“ã†", "image": "åŸéŠè©©äººé»„.png" },
  "è¦ªå¯†": { "text": "ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªé ˜åŸŸã‚’ä»–äººã¨ã‚·ã‚§ã‚¢ã™ã‚‹", "image": "ç‹©äººç´«.png" },
  "ç¾å®Ÿ": { "text": "ç¾å®Ÿçš„ã€å®Ÿéš›çš„ã«æŒ¯èˆã†", "image": "ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³é’.png" },
  "æ­£ç¾©": { "text": "ã™ã¹ã¦ã®äººã‚’å…¬å¹³ã«æ‰±ã†", "image": "åƒ§ä¾¶é’.png" },
  "è²¬ä»»": { "text": "è²¬ä»»ã‚’æŒã£ã¦è¡Œå‹•ã™ã‚‹", "image": "åŸéŠè©©äººç·‘.png" },
  "çŸ¥è­˜": { "text": "ä¾¡å€¤ã‚ã‚‹çŸ¥è­˜ã‚’å­¦ã¶", "image": "ãƒ¢ãƒ³ã‚¯ç´«.png" },
  "å±é™º": { "text": "ãƒªã‚¹ã‚¯ã‚’ã¨ã£ã¦ãƒãƒ£ãƒ³ã‚¹ã‚’æ‰‹ã«å…¥ã‚Œã‚‹", "image": "é›å†¶å±‹é’.png" },
  "ä½™æš‡": { "text": "è‡ªåˆ†ã®æ™‚é–“ã‚’ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ã¦æ¥½ã—ã‚€", "image": "ãƒ¢ãƒ³ã‚¯é»„.png" },
  "æ‹æ„›": { "text": "èˆˆå¥®ã—ã¦ç‡ƒãˆã‚‹ã‚ˆã†ãªæ‹ã‚’ã™ã‚‹", "image": "å•†äººèµ¤.png" },
  "å¯›å®¹": { "text": "å³ã—ã„äººã‹ã‚‰å—ã‘å…¥ã‚Œã‚‹", "image": "ãƒ¢ãƒ³ã‚¯é’.png" },
  "å®‰å…¨": { "text": "å®‰å¿ƒã¨å®‰æ³°ã‚’å¾—ã‚‹", "image": "é›å†¶å±‹ç·‘.png" },
  "æ„›æ…•": { "text": "èª°ã‹ã«æ„›ã•ã‚Œã‚‹", "image": "éŒ¬é‡‘è¡“å¸«ç´«.png" },
  "å—è«¾": { "text": "ã‚ã‚Šã®ã¾ã¾ã®è‡ªåˆ†ã‚’å—ã‘å…¥ã‚Œã‚‹", "image": "æˆ¦å£«é»„.png" },
  "ç†Ÿé”": { "text": "ã„ã¤ã‚‚ã®ä»•äº‹ãƒ»ä½œæ¥­ã«ç¿’ç†Ÿã™ã‚‹", "image": "è³¢è€…ç·‘.png" },
  "è‡ªåˆ¶": { "text": "è‡ªåˆ†ã®è¡Œå‹•ã‚’è‡ªåˆ†ã§ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹", "image": "ç›—è³Šèµ¤.png" },
  "ç¾åœ¨": { "text": "ä»Šã®ç¬é–“ã«é›†ä¸­ã—ã¦ç”Ÿãã‚‹", "image": "é­”æ³•å‰£å£«ç´«.png" },
  "è‡ªå°Š": { "text": "è‡ªåˆ†ã«è‡ªä¿¡ã‚’æŒã¤", "image": "åŸéŠè©©äººé’.png" },
  "é©åº¦": { "text": "éå‰°ã‚’é¿ã‘ã¦ç¨‹ã‚ˆã„ã¨ã“ã‚ã‚’æ¢ã™", "image": "ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³ç·‘.png" },
  "è‡ªçŸ¥": { "text": "è‡ªåˆ†ã«ã¤ã„ã¦æ·±ã„ç†è§£ã‚’ã‚‚ã¤", "image": "é­”æ³•ä½¿ã„ç·‘.png" },
  "çŒ®èº«": { "text": "èª°ã‹ã«æ§ã’ã‚‹", "image": "å•†äººé’.png" },
  "åæŠ—": { "text": "æ¨©å¨ã‚„ãƒ«ãƒ¼ãƒ«ã«åç™ºã‚„é—˜äº‰å¿ƒã‚’æŒã¤", "image": "æµ·è³Šç´«.png" },
  "æ€§æ„›": { "text": "æ´»å‹•çš„ã§æº€è¶³ã®ã„ãæ€§ç”Ÿæ´»ã‚’é€ã‚‹", "image": "è¸Šã‚Šå­é’.png" },
  "é…æ…®": { "text": "ä»–äººã‚’ã„ãŸã‚ã£ã¦ä¸–è©±ã‚’ã™ã‚‹", "image": "é­”æ³•ä½¿ã„é»„.png" },
  "é–‹æ”¾": { "text": "æ–°ãŸãªä½“é¨“ã€ç™ºæƒ³ã€é¸æŠã«å¿ƒã‚’é–‹ã", "image": "å¬å–šå£«ç´«.png" },
  "å­¤ç‹¬": { "text": "ä»–äººã‹ã‚‰é›¢ã‚Œã¦ä¸€äººã§ã„ã‚‹æ™‚é–“ã‚’é™ã‹ã«æŒã¤", "image": "ç‹©äººç·‘.png" },
  "ç§©åº": { "text": "æ„›ã•ã‚Œã¦ç§©åºã®ã‚ã‚‹äººç”Ÿã‚’é€ã‚‹", "image": "ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³ç´«.png" },
  "ç²¾ç¥": { "text": "ç²¾ç¥çš„ã«æˆé•·ã—æˆç†Ÿã™ã‚‹", "image": "ç›—è³Šç´«.png" },
  "æƒ…ç†±": { "text": "ä½•ã‚‰ã‹ã®å¯¾è±¡ãƒ»æ´»å‹•ãƒ»äººã€…ã«æ·±ã„æƒ…ç†±ã‚’æŠ±ã", "image": "é­”æ³•å‰£å£«é»„.png" },
  "å®‰å®š": { "text": "ã„ã¤ã‚‚ä¸€å®šã—ã¦å®‰å®šã—ã¦æš®ã‚‰ã™", "image": "éŒ¬é‡‘è¡“å¸«é»„.png" },
  "å¿«æ¥½": { "text": "ã„ã„æ°—åˆ†ã«ãªã‚‹ã“ã¨", "image": "ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³é»„.png" },
  "äººæ°—": { "text": "å¤šãã®äººã«å¥½ã‹ã‚Œã‚‹", "image": "æˆ¦å£«ç·‘.png" },
  "ä¼çµ±": { "text": "éå»ã‹ã‚‰å—ã‘ç¶™ãŒã‚Œã¦ããŸãƒ«ãƒ¼ãƒ„ã‚’å°Šæ•¬ã™ã‚‹", "image": "æˆ¦å£«é’.png" },
  "æ¨©åŠ›": { "text": "ä»–äººã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹", "image": "ç‹©äººé’.png" },
  "ç›®çš„": { "text": "äººç”Ÿã®æ„å‘³ã€æ–¹å‘æ€§ã‚’å®šã‚ã‚‹", "image": "é­”æ³•å‰£å£«èµ¤.png" },

    };


    const words = Object.keys(descriptions);
    let index = 0;
    let party = [];
    let pendingWord = null;

    function updateProgress() {
      const question = document.getElementById("question");
      const remaining = Math.max(0, Math.floor((words.length - index) / 2));
      question.innerHTML = `<div style="font-size: 0.9em; margin-bottom: 0.5em; color: #ddd; text-shadow: 1px 1px 3px rgba(0,0,0,0.5);">ã€ä»²é–“ ${party.length}/10äººã€‘ æ®‹ã‚Šã®é¸æŠ ${remaining} å•</div>`;
    }

    function renderQuestion() {
      updateProgress();
      if (index >= words.length - 1) {
        document.getElementById("whitenout").style.opacity = 1;
        setTimeout(() => {
          document.getElementById("whitenout").style.opacity = 0;
          document.getElementById("game").style.display = "none";
          document.getElementById("result").style.display = "block";
          document.body.style.background = "url('images/clearsky.png') no-repeat center center fixed";
          document.body.style.backgroundSize = "cover";
          const resultDiv = document.getElementById("result");
          resultDiv.innerHTML = `<h2>ğŸŒŸ ã‚ãªãŸã®ä»²é–“ ğŸŒŸ</h2>`;
          const list = document.createElement("ul");
          list.style.display = "flex";
          list.style.flexWrap = "wrap";
          list.style.justifyContent = "center";
          list.style.listStyle = "none";
          list.style.padding = "0";
          party.forEach(w => {
            const li = document.createElement("li");
            li.style.margin = "1em";
            li.innerHTML = `<img src="images/${descriptions[w].image}" alt="${w}" style="width:100px;height:100px;display:block;margin:0 auto;"><div style="text-align:center;margin-top:0.5em;">${w}</div>`;
            list.appendChild(li);
          });
          resultDiv.appendChild(list);
          const comment = document.createElement("div");
          comment.style.marginTop = "2em";
          comment.style.background = "rgba(255,255,255,0.8)";
          comment.style.padding = "1em";
          comment.style.borderRadius = "12px";
          comment.style.boxShadow = "2px 2px 8px rgba(0,0,0,0.2)";
          comment.innerText = "ã‚ãªãŸã¯ã€" + party[0] + "ã€ã‚„ã€" + party[1] + "ã€ã¨ã„ã£ãŸä¾¡å€¤è¦³ã‚’å¤§åˆ‡ã«ã™ã‚‹ã‚¿ã‚¤ãƒ—ã€‚è‡ªåˆ†ã®ä¿¡å¿µã‚’æŒã¡ã€ä»²é–“ã¨å…±ã«å‰ã«é€²ã‚€åŠ›ãŒã‚ã‚Šã¾ã™ã€‚";
          resultDiv.appendChild(comment);
        }, 1000);
        return;
      }
      
      const question = document.getElementById("question");
      const choices = document.getElementById("choices");
      const w1 = words[index];
      const w2 = words[index + 1];
      question.innerHTML += `<div style="font-size: 1.2em; color: #fff; margin-top: 0.5em; text-shadow: 1px 1px 3px rgba(0,0,0,0.7);">ã©ã¡ã‚‰ã‚’ä»²é–“ã«ã—ã¾ã™ã‹ï¼Ÿ</div>`;
      choices.innerHTML = "";

      if (!document.getElementById("skipContainer")) {
      const skipButton = document.createElement("button");
      skipButton.innerText = "ã©ã¡ã‚‰ã‚‚é¸ã°ãªã„";
      skipButton.style.marginTop = "2em";
      skipButton.style.padding = "0.6em 1.5em";
      skipButton.style.fontSize = "1.1em";
      skipButton.style.borderRadius = "12px";
      skipButton.style.border = "2px solid #444";
      skipButton.style.background = "rgba(255,255,255,0.85)";
      skipButton.style.cursor = "pointer";
      skipButton.style.boxShadow = "2px 2px 6px rgba(0,0,0,0.2)";
      skipButton.style.transition = "transform 0.2s ease";
      skipButton.onmouseover = () => skipButton.style.transform = "scale(1.05)";
      skipButton.onmouseout = () => skipButton.style.transform = "scale(1)";
      skipButton.onclick = skipChoice;

      const skipContainer = document.createElement("div");
      skipContainer.id = "skipContainer";
      skipContainer.style.width = "100%";
      skipContainer.style.display = "flex";
      skipContainer.style.justifyContent = "center";
      skipContainer.appendChild(skipButton);
      document.getElementById("game").appendChild(skipContainer);
    }

      [w1, w2].forEach(w => {
        const div = document.createElement("div");
        div.className = "choice";
        div.innerHTML = `<strong>${w}</strong><div>${descriptions[w].text}</div><img src="images/${descriptions[w].image}" alt="${w}" style="width:80px;margin-top:0.5em;"/>`;
        div.onclick = () => {
          div.classList.add("clicked");
          setTimeout(() => selectWord(w), 200);
        };
        choices.appendChild(div);
      });
    }

    function updatePartyDisplay() {
      const partyDiv = document.getElementById("party");
      partyDiv.innerHTML = "";
      party.forEach(w => {
        const div = document.createElement("div");
        div.className = "member";
        div.innerHTML = `
          <div class="tooltip">
            <img src="images/${descriptions[w].image}" alt="${w}" />
            <div>${w}</div>
            <div class="tooltiptext">${descriptions[w].text}</div>
          </div>`;
        div.onclick = () => {
          if (pendingWord) {
            party = party.filter(p => p !== w);
            party.push(pendingWord);
            pendingWord = null;
            updatePartyDisplay();
            index += 2;
            renderQuestion();
          }
        };
        partyDiv.appendChild(div);
      });
    }

    function selectWord(word) {
      if (!party.includes(word)) {
        if (party.length < 10) {
          party.push(word);
          index += 2;
          renderQuestion();
        } else {
          pendingWord = word;
          document.getElementById("question").innerText = "ä»²é–“ã¯10äººã¾ã§ã§ã™ã€‚èª°ã‹ã‚’ã‚¿ãƒƒãƒ—ã—ã¦å…¥ã‚Œæ›¿ãˆã¦ãã ã•ã„ã€‚";
        }
      } else {
        index += 2;
        renderQuestion();
      }
      updatePartyDisplay();
    }

    function skipChoice() {
      index += 2;
      renderQuestion();
      updatePartyDisplay();
    }

    function startGame() {
      document.getElementById("start-screen").style.display = "none";
      renderQuestion();
    }
  </script>
</body>
</html>
